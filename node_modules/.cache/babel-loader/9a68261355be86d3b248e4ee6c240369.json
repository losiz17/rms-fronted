{"ast":null,"code":"var _jsxFileName = \"/Users/higuchisyo/IdeaProjects/2019-summer-intern-rms-react/src/components/search.jsx\";\nimport React, { Component } from \"react\";\nimport \"../App.css\";\n\nclass search extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // usstate: props.initState,\n      req: {\n        tagName: \"\"\n      },\n      res: []\n    }; // this.onChange = this.onChange.bind(this);\n\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onTextAreaChange = this.onTextAreaChange.bind(this);\n  } // onChange(e) {\n  //     console.log(e.target.value);\n  //     this.setState({ usstate: e.target.value });\n  // }\n\n\n  onSubmit(e) {\n    e.preventDefault();\n    console.log(this.state.req); // fetch(\"http://localhost:8080/api/v1/tags/search\", {\n    //   method: \"POST\",\n    //   headers: {\n    //     Accept: \"application/json\",\n    //     \"Content-Type\": \"application/json\"\n    //   },\n    //   body: JSON.stringify(this.state.req)\n    // })\n    //   .then(response => response.json())\n    //   .then(responseJson => {\n    //     this.setState({\n    //       res: JSON.stringify({ responseJson: \"a\" })\n    //     });\n    //   })\n    //   .catch(error => {\n    //     console.error(error);\n    //   });\n\n    var xhr = new XMLHttpRequest();\n\n    xhr.onreadystatechange = function () {\n      if (this.readyState == 4 && this.status == 200) {\n        if (this.response) {\n          console.log(this.response);\n        }\n      } else if (this.readyState == 4) {\n        alert(\"失敗。。。\");\n      }\n    };\n\n    var jsonText = JSON.stringify(this.state.req); // ここで、dataをJSON文字列に変換\n\n    xhr.open(\"POST\", \"http://localhost:8080/api/v1/tags/search\");\n    xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n    xhr.send(jsonText);\n    console.log(this.state.res);\n  }\n\n  onTextAreaChange(e) {\n    this.setState({\n      req: {\n        tagName: e.target.value\n      }\n    });\n  }\n\n  render() {\n    // var states = [\n    //     { code: \"CA\", name: \"California\" },\n    //     { code: \"HI\", name: \"Hawaii\" },\n    //     { code: \"TX\", name: \"Texas\" },\n    //     { code: \"WA\", name: \"Washington\" }\n    // ];\n    return React.createElement(\"form\", {\n      className: \"form-inline\",\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group mx-sm-3 mb-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"form-control mr-sm-2\",\n      type: \"text\",\n      placeholder: \"Search\",\n      \"aria-label\": \"Search\",\n      value: this.state.desc,\n      onChange: this.onTextAreaChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-primary mb-2\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"\\u691C\\u7D22\")), this.state.res);\n  }\n\n}\n\nexport default search;","map":{"version":3,"sources":["/Users/higuchisyo/IdeaProjects/2019-summer-intern-rms-react/src/components/search.jsx"],"names":["React","Component","search","constructor","props","state","req","tagName","res","onSubmit","bind","onTextAreaChange","e","preventDefault","console","log","xhr","XMLHttpRequest","onreadystatechange","readyState","status","response","alert","jsonText","JSON","stringify","open","setRequestHeader","send","setState","target","value","render","desc"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"../App.css\";\n\nclass search extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // usstate: props.initState,\n      req: { tagName: \"\" },\n      res: []\n    };\n    // this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onTextAreaChange = this.onTextAreaChange.bind(this);\n  }\n\n  // onChange(e) {\n  //     console.log(e.target.value);\n  //     this.setState({ usstate: e.target.value });\n  // }\n\n  onSubmit(e) {\n    e.preventDefault();\n    console.log(this.state.req);\n    // fetch(\"http://localhost:8080/api/v1/tags/search\", {\n    //   method: \"POST\",\n    //   headers: {\n    //     Accept: \"application/json\",\n    //     \"Content-Type\": \"application/json\"\n    //   },\n    //   body: JSON.stringify(this.state.req)\n    // })\n    //   .then(response => response.json())\n    //   .then(responseJson => {\n    //     this.setState({\n    //       res: JSON.stringify({ responseJson: \"a\" })\n    //     });\n    //   })\n    //   .catch(error => {\n    //     console.error(error);\n    //   });\n    var xhr = new XMLHttpRequest();\n    xhr.onreadystatechange = function() {\n      if (this.readyState == 4 && this.status == 200) {\n        if (this.response) {\n          console.log(this.response);\n        }\n      } else if (this.readyState == 4) {\n        alert(\"失敗。。。\");\n      }\n    };\n    var jsonText = JSON.stringify(this.state.req); // ここで、dataをJSON文字列に変換\n    xhr.open(\"POST\", \"http://localhost:8080/api/v1/tags/search\");\n    xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n    xhr.send(jsonText);\n\n    console.log(this.state.res);\n  }\n\n  onTextAreaChange(e) {\n    this.setState({ req: { tagName: e.target.value } });\n  }\n\n  render() {\n    // var states = [\n    //     { code: \"CA\", name: \"California\" },\n    //     { code: \"HI\", name: \"Hawaii\" },\n    //     { code: \"TX\", name: \"Texas\" },\n    //     { code: \"WA\", name: \"Washington\" }\n    // ];\n\n    return (\n      <form className=\"form-inline\" onSubmit={this.onSubmit}>\n        {/* <div>\n                    <select value={this.state.usstate} onChange={this.onChange}>\n                        {options}\n                    </select>\n                </div> */}\n        <div className=\"form-group mx-sm-3 mb-2\">\n          <input\n            className=\"form-control mr-sm-2\"\n            type=\"text\"\n            placeholder=\"Search\"\n            aria-label=\"Search\"\n            value={this.state.desc}\n            onChange={this.onTextAreaChange}\n          />\n        </div>\n\n        <div>\n          <button className=\"btn btn-primary mb-2\" type=\"submit\">\n            検索\n          </button>\n        </div>\n        {this.state.res}\n      </form>\n    );\n  }\n}\n\nexport default search;\n"]},"metadata":{},"sourceType":"module"}